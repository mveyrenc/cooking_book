  <%= form_with(model: object, layout: :horizontal, data: { controller: 'form' }) do |f| %>
    <% if object.errors.any? %>
      <div class="notification is-danger">
        <button class="delete"></button>
        <ul>
          <% object.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <%= f.text_field :name, required: true %>
    <%= f.grouped_collection_select(
      :categorization_id,
      categorization_list_by_book,
      :categorizations,
      :name,
      :id,
      :to_s,
      { required: true }
    ) if object.categorization.nil? %>
    <%= f.collection_select(
      :categorization_id,
      categorization_list,
      :id,
      :to_s,
      { required: true }
    ) if object.categorization.present? and can? :manage, Category %>
    <div class="buttons is-centered">
      <%= f.submit nil, { class: css_book_color } %>
    </div>
  <% end %>

